<aside id="sidebarMenu" class="sidebar collapse show" [class.collapsed]="isCollapsed()">

  <!-- üîπ Bot√£o de Expandir/Retrair -->
  <div class="toggle-container">
    <button class="btn toggle-btn" (click)="toggleSidebar()">
      <i class="bi bi-list"></i>
    </button>
  </div>

  <!-- Menu -->
  <ul class="menu nav flex-column">
    <!-- Home -->
    <li>
      <a routerLink="/home" class="nav-link">
        <i class="bi bi-house-door me-2"></i>
        <span *ngIf="!isCollapsed()">Home</span>
      </a>
    </li>

    <!-- Produtos -->
    <li>
      <a routerLink="/products" class="nav-link d-flex justify-content-between align-items-center"
        (click)="toggleSubmenu('products')">
        <span>
          <i class="bi bi-box me-2"></i>
          <span *ngIf="!isCollapsed()">Produtos</span>
        </span>
        <i class="bi bi-chevron-down submenu-icon" [class.rotate]="isOpen('products')"></i>
      </a>
      <ul class="submenu nav flex-column" [class.active]="isOpen('products')">
        <li><a routerLink="/products" class="nav-link"><i class="bi bi-plus-circle me-2"></i> <span
          *ngIf="!isCollapsed()">Cadastrar</span></a></li>
        <li><a routerLink="/products" class="nav-link"><i class="bi bi-list me-2"></i> <span
          *ngIf="!isCollapsed()">Listar</span></a></li>
        <li><a routerLink="/products" class="nav-link"><i class="bi bi-tags me-2"></i> <span
          *ngIf="!isCollapsed()">Categorias</span></a></li>
      </ul>
    </li>

    <!-- Clientes -->
    <li>
      <a routerLink="/customers" class="nav-link d-flex justify-content-between align-items-center"
        (click)="toggleSubmenu('customers')">
        <span>
          <i class="bi bi-people me-2"></i>
          <span *ngIf="!isCollapsed()">Clientes</span>
        </span>
        <i class="bi bi-chevron-down submenu-icon" [class.rotate]="isOpen('customers')"></i>
      </a>
      <ul class="submenu nav flex-column" [class.active]="isOpen('customers')">
        <li><a routerLink="/customers" class="nav-link"><i class="bi bi-person-plus me-2"></i> <span
              *ngIf="!isCollapsed()">Novo Cliente</span></a></li>
        <li><a routerLink="/customers" class="nav-link"><i class="bi bi-people me-2"></i> <span
              *ngIf="!isCollapsed()">Todos os Clientes</span></a></li>
      </ul>
    </li>

    <!-- Relat√≥rios -->
    <li>
      <a routerLink="/reports" class="nav-link d-flex justify-content-between align-items-center"
        (click)="toggleSubmenu('reports')">
        <span>
          <i class="bi bi-bar-chart me-2"></i>
          <span *ngIf="!isCollapsed()">Relat√≥rios</span>
        </span>
        <i class="bi bi-chevron-down submenu-icon" [class.rotate]="isOpen('reports')"> </i>
      </a>
      <ul class="submenu nav flex-column" [class.active]="isOpen('reports')">
        <li><a routerLink="/reports" class="nav-link"><i class="bi bi-cash"></i> <span
              *ngIf="!isCollapsed()">Financeiro</span></a></li>
        <li><a routerLink="/reports" class="nav-link"><i class="bi bi-graph-up"></i> <span
              *ngIf="!isCollapsed()">Vendas</span></a></li>
      </ul>
    </li>

    <!-- Configura√ß√µes -->
    <li>
      <a routerLink="/settings" class="nav-link d-flex justify-content-between align-items-center">
        <span>
          <i class="bi bi-gear"></i>
          <span *ngIf="!isCollapsed()">Configura√ß√µes</span>
        </span>
      </a>
    </li>
  </ul>

  <!-- Rodap√© -->
  <div class="sidebar-footer">
    <div class="user-info">
      <i class="bi bi-person-circle me-2"></i>
      <span *ngIf="!isCollapsed()">{{ userEmail() || 'Carregando...' }}</span>
    </div>
    <div class="datetime">
      <i class="bi bi-clock me-2"></i>
      <span *ngIf="!isCollapsed()">{{ currentDate().toLocaleString() }}</span>
    </div>
  </div>
</aside>