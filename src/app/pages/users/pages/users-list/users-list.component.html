<div class="container my-4">
  <h1 class="mb-4">Usuários</h1>
  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead class="thead-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col" (click)="sortBy('name')" style="cursor: pointer">
            Nome
            <i *ngIf="sortColumn === 'name'" class="bi" [ngClass]="{'bi-arrow-up': sortDirection==='asc', 'bi-arrow-down': sortDirection==='desc'}"></i>
          </th>
          <th scope="col" (click)="sortBy('email')" style="cursor: pointer">
            Email
            <i *ngIf="sortColumn === 'email'" class="bi" [ngClass]="{'bi-arrow-up': sortDirection==='asc', 'bi-arrow-down': sortDirection==='desc'}"></i>
          </th>
          <th scope="col" (click)="sortBy('phone')" style="cursor: pointer">
            Telefone
            <i *ngIf="sortColumn === 'phone'" class="bi" [ngClass]="{'bi-arrow-up': sortDirection==='asc', 'bi-arrow-down': sortDirection==='desc'}"></i>
          </th>
          <th scope="col" (click)="sortBy('status')" style="cursor: pointer">
            Status
            <i *ngIf="sortColumn === 'status'" class="bi" [ngClass]="{'bi-arrow-up': sortDirection==='asc', 'bi-arrow-down': sortDirection==='desc'}"></i>
          </th>
          <th scope="col" (click)="sortBy('createdAt')" style="cursor: pointer">
            Criado Em
            <i *ngIf="sortColumn === 'createdAt'" class="bi" [ngClass]="{'bi-arrow-up': sortDirection==='asc', 'bi-arrow-down': sortDirection==='desc'}"></i>
          </th>
          <th scope="col">
            Ações
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users(); let i = index">
          <th scope="row">{{ i + 1 }}</th>
          <td>{{ user.name }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.phone }}</td>
          <td>
            <span *ngIf="user.isActive" class="text-success">
              <i class="bi bi-check-circle"></i> Sim
            </span>
            <span *ngIf="!user.isActive" class="text-danger">
              <i class="bi bi-x-circle"></i> Não
            </span>
          </td>
          <td>{{ user.createdAt | date: 'short' }}</td>
          <td>
            <button class="btn btn-primary btn-sm me-1" (click)="viewUser(user.id)">
              <i class="bi bi-eye"></i>
            </button>
            <button class="btn btn-warning btn-sm me-1" (click)="editUser(user.id)">
              <i class="bi bi-pencil-square"></i>
            </button>
            <button class="btn btn-danger btn-sm" (click)="deleteUser(user.id)">
              <i class="bi bi-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
  